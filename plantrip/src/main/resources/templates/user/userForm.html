<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>플랜 트립 로그인 페이지</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="../../vendors/feather/feather.css">
    <link rel="stylesheet" href="../../vendors/ti-icons/css/themify-icons.css">
    <link rel="stylesheet" href="../../vendors/css/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="../../css/vertical-layout-light/style.css">
    <!-- endinject -->
    <link rel="shortcut icon" href="../../images/favicon.png" />
</head>

<body>

<div class="container-scroller">
    <div class="container-fluid page-body-wrapper full-page-wrapper">
        <div class="content-wrapper d-flex align-items-center auth px-0">
            <div class="row w-100 mx-0">
                <div class="col-lg-4 mx-auto">
                    <div class="auth-form-light text-left py-5 px-4 px-sm-5">
                        <div class="text-center navbar-brand-wrapper d-flex align-items-center justify-content-center">
                            <a class="navbar-brand brand-logo mr-5" href="/static"><img src="images/plantrip_logo.png" class="mr-2" alt="logo"/></a>
                          </div>
                        <h4>방문을 환영합니다</h4>
                        <h6 class="font-weight-light">로그인을 하세요.</h6>
                        <!--th:object : form submit을 할 때, form의 데이터가 th:object에 설정해준 객체로 받아진다.-->
                        <form action="/users/new" role="form" method="post"  th:object="${userFormDto}">


                            <div class="form-group">
                                <label th:for="name">이름</label>
                                <input type="text" th:field="*{name}" class="form-control" placeholder="이름을 입력해주세요">

                                <!--
                                  th:errors :해당 value의 error가 있는 경우 출력한다.
                                  form의 validation error를 출력할 때 사용할 수 있다.

                                  th:field : 각각 필드들을 매핑을 해주는 역할을 한다. 설정해 준 값으로, th:object에 설정해 준 객체의 내부와 매칭해준다.
                                  -->
                                <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="fieldError">Incorrect data</p>
                            </div>

                            <div class="form-group">
                                <label th:for="email">이메일주소</label>
                                <input type="email" th:field="*{email}" class="form-control" placeholder="이메일을 입력해주세요">
                                <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="fieldError">Incorrect data</p>
                            </div>

                            <div class="form-group">
                                <label th:for="password">비밀번호</label>
                                <input type="password" th:field="*{password}" class="form-control" placeholder="비밀번호 입력">
                                <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="fieldError">Incorrect data</p>
                            </div>

                            <div class="form-group">
                                <label th:for="address">주소</label>
                                <input type="text" th:field="*{phone}" class="form-control" placeholder="번호를 입력해주세요">
                                <p th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}" class="fieldError">Incorrect data</p>
                            </div>

                            <div style="text-align: center">
                                <button type="submit" class="btn btn-primary" style="">Submit</button>
                            </div>

                            <!--시큐리티를 사용할 경우 기본적으로 CSRF(Cross Site Request Forgery)를 방어하기 위해
                            모든 post방식의 데이터 전송에는 CSRF 토큰값이 있어야한다.
                            실제 서버에서 허용한 요청이 맞는지 확인하기 위한 토큰이다.
                            사용자의 세션에 임의의 값을 저장하여 요청마다 그 값을 포함하여 전송하면
                            서버에서 세션에 저장된 값과 요청이 온 값이 일치하는지 확인하여 CSRF를 방어한다.-->
                            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                        </form>

                    </div>
                </div>
            </div>
        </div>
        <!-- content-wrapper ends -->
    </div>
    <!-- page-body-wrapper ends -->
</div>
<!-- container-scroller -->
<!-- plugins:js -->
<script src="../../vendors/js/vendor.bundle.base.js"></script>
<!-- endinject -->
<!-- Plugin js for this page -->
<!-- End plugin js for this page -->
<!-- inject:js -->
<script src="../../js/off-canvas.js"></script>
<script src="../../js/hoverable-collapse.js"></script>
<script src="../../js/template.js"></script>
<script src="../../js/settings.js"></script>
<script src="../../js/todolist.js"></script>
<!-- endinject -->
</body>

</html>
